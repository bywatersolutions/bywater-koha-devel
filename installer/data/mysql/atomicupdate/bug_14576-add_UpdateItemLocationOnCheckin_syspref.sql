INSERT IGNORE INTO systempreferences (variable,value,options,explanation,type) VALUES('UpdateItemLocationOnCheckin', 'PROC: _PERM_\n', 'NULL', 'This a list of value pairs. When an item is checked in, if the location value on the left matches the items location value it will be updated to the right-hand value. E.g. \'PROC: FIC\' will cause an item that was set to \'Book Cart\' to now be in the \'Fiction\' shelving location. Each pair of values should be on a separate line. *Note that PROC and CART are special values, for these values only can the items location and permanent location differ.  Any other change will affect both location and permanent location.  Also note that any item in CART will be have location reset to permanent location upon checkout', 'Free');
UPDATE systempreferences s1, (SELECT IF(value,'PROC: CART\n','') AS p2c FROM systempreferences WHERE variable='InProcessingToShelvingCart') s2 SET s1.value= CONCAT(s2.p2c, REPLACE(s1.value,'PROC: _PERM_\n','') ) WHERE s1.variable='UpdateItemLocationOnCheckin' AND s1.value NOT LIKE '%PROC: CART%';
DELETE FROM systempreferences WHERE variable='InProcessingToShelvingCart';
UPDATE systempreferences s1, (SELECT IF(value,'_ALL_: CART\n','') AS rtc FROM systempreferences WHERE variable='ReturnToShelvingCart') s2 SET s1.value= CONCAT(s2.rtc,s1.value) WHERE s1.variable='UpdateItemLocationOnCheckin' AND s1.value NOT LIKE '%_ALL_: CART%';
DELETE FROM systempreferences WHERE variable='ReturnToShelvingCart';
